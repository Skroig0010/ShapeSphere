// Generated by Haxe 4.0.0 (git build development @ a018cbd)
(function ($global) { "use strict";
var $estr = function() { return js_Boot.__string_rec(this,''); };
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
EReg.__name__ = true;
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,__class__: EReg
};
var HxOverrides = function() { };
HxOverrides.__name__ = true;
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var Lambda = function() { };
Lambda.__name__ = true;
Lambda.array = function(it) {
	var a = [];
	var i = $iterator(it)();
	while(i.hasNext()) {
		var i1 = i.next();
		a.push(i1);
	}
	return a;
};
Lambda.flatten = function(it) {
	var l = new haxe_ds_List();
	var e = $iterator(it)();
	while(e.hasNext()) {
		var e1 = e.next();
		var x = $iterator(e1)();
		while(x.hasNext()) {
			var x1 = x.next();
			l.add(x1);
		}
	}
	return l;
};
Lambda.exists = function(it,f) {
	var x = $iterator(it)();
	while(x.hasNext()) {
		var x1 = x.next();
		if(f(x1)) {
			return true;
		}
	}
	return false;
};
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x,10);
	if(v == 0 && (HxOverrides.cca(x,1) == 120 || HxOverrides.cca(x,1) == 88)) {
		v = parseInt(x);
	}
	if(isNaN(v)) {
		return null;
	}
	return v;
};
var haxe_IMap = function() { };
haxe_IMap.__name__ = true;
var haxe_Http = function(url) {
	this.url = url;
	this.headers = new haxe_ds_List();
	this.params = new haxe_ds_List();
	this.async = true;
	this.withCredentials = false;
};
haxe_Http.__name__ = true;
haxe_Http.requestUrl = function(url) {
	var h = new haxe_Http(url);
	h.async = false;
	var r = null;
	h.onData = function(d) {
		r = d;
	};
	h.onError = function(e) {
		throw new js__$Boot_HaxeError(e);
	};
	h.request(false);
	return r;
};
haxe_Http.prototype = {
	request: function(post) {
		var me = this;
		me.responseData = null;
		var r = this.req = js_Browser.createXMLHttpRequest();
		var onreadystatechange = function(_) {
			if(r.readyState != 4) {
				return;
			}
			var s;
			try {
				s = r.status;
			} catch( e ) {
				s = null;
			}
			if(s != null && "undefined" !== typeof window) {
				var protocol = window.location.protocol.toLowerCase();
				var rlocalProtocol = new EReg("^(?:about|app|app-storage|.+-extension|file|res|widget):$","");
				var isLocal = rlocalProtocol.match(protocol);
				if(isLocal) {
					s = r.responseText != null ? 200 : 404;
				}
			}
			if(s == undefined) {
				s = null;
			}
			if(s != null) {
				me.onStatus(s);
			}
			if(s != null && s >= 200 && s < 400) {
				me.req = null;
				me.onData(me.responseData = r.responseText);
			} else if(s == null) {
				me.req = null;
				me.onError("Failed to connect or resolve host");
			} else {
				switch(s) {
				case 12007:
					me.req = null;
					me.onError("Unknown host");
					break;
				case 12029:
					me.req = null;
					me.onError("Failed to connect to host");
					break;
				default:
					me.req = null;
					me.responseData = r.responseText;
					me.onError("Http Error #" + r.status);
				}
			}
		};
		if(this.async) {
			r.onreadystatechange = onreadystatechange;
		}
		var uri = this.postData;
		if(uri != null) {
			post = true;
		} else {
			var _g_head = this.params.h;
			while(_g_head != null) {
				var val = _g_head.item;
				_g_head = _g_head.next;
				var p = val;
				if(uri == null) {
					uri = "";
				} else {
					uri += "&";
				}
				var s1 = p.param;
				var uri1 = encodeURIComponent(s1) + "=";
				var s2 = p.value;
				uri += uri1 + encodeURIComponent(s2);
			}
		}
		try {
			if(post) {
				r.open("POST",this.url,this.async);
			} else if(uri != null) {
				var question = this.url.split("?").length <= 1;
				r.open("GET",this.url + (question ? "?" : "&") + uri,this.async);
				uri = null;
			} else {
				r.open("GET",this.url,this.async);
			}
		} catch( e1 ) {
			if (e1 instanceof js__$Boot_HaxeError) e1 = e1.val;
			me.req = null;
			this.onError(e1.toString());
			return;
		}
		r.withCredentials = this.withCredentials;
		if(!Lambda.exists(this.headers,function(h) {
			return h.header == "Content-Type";
		}) && post && this.postData == null) {
			r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
		}
		var _g_head1 = this.headers.h;
		while(_g_head1 != null) {
			var val1 = _g_head1.item;
			_g_head1 = _g_head1.next;
			var h1 = val1;
			r.setRequestHeader(h1.header,h1.value);
		}
		r.send(uri);
		if(!this.async) {
			onreadystatechange(null);
		}
	}
	,onData: function(data) {
	}
	,onError: function(msg) {
	}
	,onStatus: function(status) {
	}
	,__class__: haxe_Http
};
var haxe__$Int64__$_$_$Int64 = function(high,low) {
	this.high = high;
	this.low = low;
};
haxe__$Int64__$_$_$Int64.__name__ = true;
haxe__$Int64__$_$_$Int64.prototype = {
	__class__: haxe__$Int64__$_$_$Int64
};
var haxe_ds_IntMap = function() {
	this.h = { };
};
haxe_ds_IntMap.__name__ = true;
haxe_ds_IntMap.__interfaces__ = [haxe_IMap];
haxe_ds_IntMap.prototype = {
	keys: function() {
		var a = [];
		for( var key in this.h ) if(this.h.hasOwnProperty(key)) {
			a.push(key | 0);
		}
		return HxOverrides.iter(a);
	}
	,__class__: haxe_ds_IntMap
};
var haxe_ds_List = function() {
	this.length = 0;
};
haxe_ds_List.__name__ = true;
haxe_ds_List.prototype = {
	add: function(item) {
		var x = new haxe_ds__$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,push: function(item) {
		var x = new haxe_ds__$List_ListNode(item,this.h);
		this.h = x;
		if(this.q == null) {
			this.q = x;
		}
		this.length++;
	}
	,remove: function(v) {
		var prev = null;
		var l = this.h;
		while(l != null) {
			if(l.item == v) {
				if(prev == null) {
					this.h = l.next;
				} else {
					prev.next = l.next;
				}
				if(this.q == l) {
					this.q = prev;
				}
				this.length--;
				return true;
			}
			prev = l;
			l = l.next;
		}
		return false;
	}
	,iterator: function() {
		return new haxe_ds__$List_ListIterator(this.h);
	}
	,__class__: haxe_ds_List
};
var haxe_ds__$List_ListNode = function(item,next) {
	this.item = item;
	this.next = next;
};
haxe_ds__$List_ListNode.__name__ = true;
haxe_ds__$List_ListNode.prototype = {
	__class__: haxe_ds__$List_ListNode
};
var haxe_ds__$List_ListIterator = function(head) {
	this.head = head;
};
haxe_ds__$List_ListIterator.__name__ = true;
haxe_ds__$List_ListIterator.prototype = {
	hasNext: function() {
		return this.head != null;
	}
	,next: function() {
		var val = this.head.item;
		this.head = this.head.next;
		return val;
	}
	,__class__: haxe_ds__$List_ListIterator
};
var haxe_ds_ObjectMap = function() {
	this.h = { __keys__ : { }};
};
haxe_ds_ObjectMap.__name__ = true;
haxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];
haxe_ds_ObjectMap.prototype = {
	set: function(key,value) {
		var id = key.__id__ || (key.__id__ = ++haxe_ds_ObjectMap.count);
		this.h[id] = value;
		this.h.__keys__[id] = key;
	}
	,__class__: haxe_ds_ObjectMap
};
var haxe_ds_StringMap = function() {
	this.h = { };
};
haxe_ds_StringMap.__name__ = true;
haxe_ds_StringMap.__interfaces__ = [haxe_IMap];
haxe_ds_StringMap.prototype = {
	setReserved: function(key,value) {
		if(this.rh == null) {
			this.rh = { };
		}
		this.rh["$" + key] = value;
	}
	,getReserved: function(key) {
		if(this.rh == null) {
			return null;
		} else {
			return this.rh["$" + key];
		}
	}
	,existsReserved: function(key) {
		if(this.rh == null) {
			return false;
		}
		return this.rh.hasOwnProperty("$" + key);
	}
	,__class__: haxe_ds_StringMap
};
var haxe_io_Error = { __ename__ : true, __constructs__ : ["Blocked","Overflow","OutsideBounds","Custom"] };
haxe_io_Error.Blocked = ["Blocked",0];
haxe_io_Error.Blocked.toString = $estr;
haxe_io_Error.Blocked.__enum__ = haxe_io_Error;
haxe_io_Error.Overflow = ["Overflow",1];
haxe_io_Error.Overflow.toString = $estr;
haxe_io_Error.Overflow.__enum__ = haxe_io_Error;
haxe_io_Error.OutsideBounds = ["OutsideBounds",2];
haxe_io_Error.OutsideBounds.toString = $estr;
haxe_io_Error.OutsideBounds.__enum__ = haxe_io_Error;
haxe_io_Error.Custom = function(e) { var $x = ["Custom",3,e]; $x.__enum__ = haxe_io_Error; $x.toString = $estr; return $x; };
var haxe_io_FPHelper = function() { };
haxe_io_FPHelper.__name__ = true;
haxe_io_FPHelper.i32ToFloat = function(i) {
	haxe_io_FPHelper.helper.setInt32(0,i,true);
	return haxe_io_FPHelper.helper.getFloat32(0,true);
};
haxe_io_FPHelper.floatToI32 = function(f) {
	haxe_io_FPHelper.helper.setFloat32(0,f,true);
	return haxe_io_FPHelper.helper.getInt32(0,true);
};
haxe_io_FPHelper.i64ToDouble = function(low,high) {
	haxe_io_FPHelper.helper.setInt32(0,low,true);
	haxe_io_FPHelper.helper.setInt32(4,high,true);
	return haxe_io_FPHelper.helper.getFloat64(0,true);
};
haxe_io_FPHelper.doubleToI64 = function(v) {
	var i64 = haxe_io_FPHelper.i64tmp;
	haxe_io_FPHelper.helper.setFloat64(0,v,true);
	i64.low = haxe_io_FPHelper.helper.getInt32(0,true);
	i64.high = haxe_io_FPHelper.helper.getInt32(4,true);
	return i64;
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	this.message = String(val);
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.getClass = function(o) {
	if((o instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o instanceof Array) {
			if(o.__enum__) {
				if(o.length == 2) {
					return o[0];
				}
				var str = o[0] + "(";
				s += "\t";
				var _g1 = 2;
				var _g = o.length;
				while(_g1 < _g) {
					var i = _g1++;
					if(i != 2) {
						str += "," + js_Boot.__string_rec(o[i],s);
					} else {
						str += js_Boot.__string_rec(o[i],s);
					}
				}
				return str + ")";
			}
			var l = o.length;
			var i1;
			var str1 = "[";
			s += "\t";
			var _g11 = 0;
			var _g2 = l;
			while(_g11 < _g2) {
				var i2 = _g11++;
				str1 += (i2 > 0 ? "," : "") + js_Boot.__string_rec(o[i2],s);
			}
			str1 += "]";
			return str1;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str2 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str2.length != 2) {
			str2 += ", \n";
		}
		str2 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str2 += "\n" + s + "}";
		return str2;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g1 = 0;
		var _g = intf.length;
		while(_g1 < _g) {
			var i = _g1++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		if((o instanceof Array)) {
			return o.__enum__ == null;
		} else {
			return false;
		}
		break;
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return true;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return (o|0) === o;
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(o instanceof cl) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(o instanceof cl) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return o.__enum__ == cl;
	}
};
js_Boot.__cast = function(o,t) {
	if(js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_Browser = function() { };
js_Browser.__name__ = true;
js_Browser.createXMLHttpRequest = function() {
	if(typeof XMLHttpRequest != "undefined") {
		return new XMLHttpRequest();
	}
	if(typeof ActiveXObject != "undefined") {
		return new ActiveXObject("Microsoft.XMLHTTP");
	}
	throw new js__$Boot_HaxeError("Unable to create XMLHttpRequest object.");
};
js_Browser.alert = function(v) {
	window.alert(js_Boot.__string_rec(v,""));
};
var js_html_compat_ArrayBuffer = function(a) {
	if((a instanceof Array) && a.__enum__ == null) {
		this.a = a;
		this.byteLength = a.length;
	} else {
		var len = a;
		this.a = [];
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) {
			var i = _g1++;
			this.a[i] = 0;
		}
		this.byteLength = len;
	}
};
js_html_compat_ArrayBuffer.__name__ = true;
js_html_compat_ArrayBuffer.sliceImpl = function(begin,end) {
	var u = new Uint8Array(this,begin,end == null ? null : end - begin);
	var result = new ArrayBuffer(u.byteLength);
	var resultArray = new Uint8Array(result);
	resultArray.set(u);
	return result;
};
js_html_compat_ArrayBuffer.prototype = {
	slice: function(begin,end) {
		return new js_html_compat_ArrayBuffer(this.a.slice(begin,end));
	}
	,__class__: js_html_compat_ArrayBuffer
};
var js_html_compat_DataView = function(buffer,byteOffset,byteLength) {
	this.buf = buffer;
	this.offset = byteOffset == null ? 0 : byteOffset;
	this.length = byteLength == null ? buffer.byteLength - this.offset : byteLength;
	if(this.offset < 0 || this.length < 0 || this.offset + this.length > buffer.byteLength) {
		throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
	}
	this.byteLength = this.length;
	this.byteOffset = this.offset;
	this.buffer = this.buf;
};
js_html_compat_DataView.__name__ = true;
js_html_compat_DataView.prototype = {
	getInt8: function(byteOffset) {
		var v = this.buf.a[this.offset + byteOffset];
		if(v >= 128) {
			return v - 256;
		} else {
			return v;
		}
	}
	,getUint8: function(byteOffset) {
		return this.buf.a[this.offset + byteOffset];
	}
	,getInt16: function(byteOffset,littleEndian) {
		var v = this.getUint16(byteOffset,littleEndian);
		if(v >= 32768) {
			return v - 65536;
		} else {
			return v;
		}
	}
	,getUint16: function(byteOffset,littleEndian) {
		if(littleEndian) {
			return this.buf.a[this.offset + byteOffset] | this.buf.a[this.offset + byteOffset + 1] << 8;
		} else {
			return this.buf.a[this.offset + byteOffset] << 8 | this.buf.a[this.offset + byteOffset + 1];
		}
	}
	,getInt32: function(byteOffset,littleEndian) {
		var p = this.offset + byteOffset;
		var a = this.buf.a[p++];
		var b = this.buf.a[p++];
		var c = this.buf.a[p++];
		var d = this.buf.a[p++];
		if(littleEndian) {
			return a | b << 8 | c << 16 | d << 24;
		} else {
			return d | c << 8 | b << 16 | a << 24;
		}
	}
	,getUint32: function(byteOffset,littleEndian) {
		var v = this.getInt32(byteOffset,littleEndian);
		if(v < 0) {
			return v + 4294967296.;
		} else {
			return v;
		}
	}
	,getFloat32: function(byteOffset,littleEndian) {
		return haxe_io_FPHelper.i32ToFloat(this.getInt32(byteOffset,littleEndian));
	}
	,getFloat64: function(byteOffset,littleEndian) {
		var a = this.getInt32(byteOffset,littleEndian);
		var b = this.getInt32(byteOffset + 4,littleEndian);
		return haxe_io_FPHelper.i64ToDouble(littleEndian ? a : b,littleEndian ? b : a);
	}
	,setInt8: function(byteOffset,value) {
		this.buf.a[byteOffset + this.offset] = value < 0 ? value + 128 & 255 : value & 255;
	}
	,setUint8: function(byteOffset,value) {
		this.buf.a[byteOffset + this.offset] = value & 255;
	}
	,setInt16: function(byteOffset,value,littleEndian) {
		this.setUint16(byteOffset,value < 0 ? value + 65536 : value,littleEndian);
	}
	,setUint16: function(byteOffset,value,littleEndian) {
		var p = byteOffset + this.offset;
		if(littleEndian) {
			this.buf.a[p] = value & 255;
			this.buf.a[p++] = value >> 8 & 255;
		} else {
			this.buf.a[p++] = value >> 8 & 255;
			this.buf.a[p] = value & 255;
		}
	}
	,setInt32: function(byteOffset,value,littleEndian) {
		this.setUint32(byteOffset,value,littleEndian);
	}
	,setUint32: function(byteOffset,value,littleEndian) {
		var p = byteOffset + this.offset;
		if(littleEndian) {
			this.buf.a[p++] = value & 255;
			this.buf.a[p++] = value >> 8 & 255;
			this.buf.a[p++] = value >> 16 & 255;
			this.buf.a[p++] = value >>> 24;
		} else {
			this.buf.a[p++] = value >>> 24;
			this.buf.a[p++] = value >> 16 & 255;
			this.buf.a[p++] = value >> 8 & 255;
			this.buf.a[p++] = value & 255;
		}
	}
	,setFloat32: function(byteOffset,value,littleEndian) {
		this.setUint32(byteOffset,haxe_io_FPHelper.floatToI32(value),littleEndian);
	}
	,setFloat64: function(byteOffset,value,littleEndian) {
		var i64 = haxe_io_FPHelper.doubleToI64(value);
		if(littleEndian) {
			this.setUint32(byteOffset,i64.low);
			this.setUint32(byteOffset,i64.high);
		} else {
			this.setUint32(byteOffset,i64.high);
			this.setUint32(byteOffset,i64.low);
		}
	}
	,__class__: js_html_compat_DataView
};
var js_html_compat_Float32Array = function() { };
js_html_compat_Float32Array.__name__ = true;
js_html_compat_Float32Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = 0;
		var _g2 = [];
		var _g21 = 0;
		var _g11 = arr.length << 2;
		while(_g21 < _g11) {
			var i1 = _g21++;
			_g2.push(0);
		}
		arr.buffer = new js_html_compat_ArrayBuffer(_g2);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset >> 2;
		}
		arr = [];
		var _g12 = 0;
		var _g3 = length;
		while(_g12 < _g3) {
			var i2 = _g12++;
			var val = buffer.a[offset++] | buffer.a[offset++] << 8 | buffer.a[offset++] << 16 | buffer.a[offset++] << 24;
			arr.push(haxe_io_FPHelper.i32ToFloat(val));
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		var buffer1 = [];
		var _g4 = 0;
		while(_g4 < arr.length) {
			var f = arr[_g4];
			++_g4;
			var i3 = haxe_io_FPHelper.floatToI32(f);
			buffer1.push(i3 & 255);
			buffer1.push(i3 >> 8 & 255);
			buffer1.push(i3 >> 16 & 255);
			buffer1.push(i3 >>> 24);
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(buffer1);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Float32Array._subarray;
	arr.set = js_html_compat_Float32Array._set;
	return arr;
};
js_html_compat_Float32Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Float32Array._subarray = function(start,end) {
	var a = js_html_compat_Float32Array._new(this.slice(start,end));
	a.byteOffset = start * 4;
	return a;
};
var js_html_compat_Uint8Array = function() { };
js_html_compat_Uint8Array.__name__ = true;
js_html_compat_Uint8Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset;
		}
		if(offset == 0) {
			arr = buffer.a;
		} else {
			arr = buffer.a.slice(offset,offset + length);
		}
		arr.byteLength = arr.length;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Uint8Array._subarray;
	arr.set = js_html_compat_Uint8Array._set;
	return arr;
};
js_html_compat_Uint8Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Uint8Array._subarray = function(start,end) {
	var a = js_html_compat_Uint8Array._new(this.slice(start,end));
	a.byteOffset = start;
	return a;
};
var src_Game = function() { };
src_Game.__name__ = true;
src_Game.main = function() {
	src_Game.init();
	var vert = window.fetch("main.vert").then(function(response) {
		return response.text();
	});
	var frag = window.fetch("main.frag").then(function(response1) {
		return response1.text();
	});
	var mqo = window.fetch("uc2.mqo").then(function(response2) {
		return response2.text();
	});
	Promise.all([vert,frag,mqo]).then(function(response3) {
		var vert1 = js_Boot.__cast(response3[0] , String);
		var frag1 = js_Boot.__cast(response3[1] , String);
		var mqo1 = js_Boot.__cast(response3[2] , String);
		var parser = new src_parser_MqoParser(mqo1,src_Game.gd);
		var x = parser.getMqo();
		var a = new src_content_contentreaders_ModelReader(src_Game.gd);
		src_Game.meshes = a.makeMeshesFromMqo(x);
		src_Game.scene = x.scene;
		var v1 = src_Game.scene.camera.position;
		var this1 = new src_math_Vec3Data(0,400,400);
		var v2 = this1;
		var this2 = new src_math_Vec3Data(v1.x + v2.x,v1.y + v2.y,v1.z + v2.z);
		var eye = this2;
		var tmp = src_Game.scene;
		var this3 = new src_math_Vec3Data(0,400,0);
		var v21 = this3;
		var this4 = new src_math_Vec3Data(eye.x - v21.x,eye.y - v21.y,eye.z - v21.z);
		var this5 = this4;
		var l = Math.sqrt(this5.x * this5.x + this5.y * this5.y + this5.z * this5.z);
		var this6 = new src_math_Vec3Data(this5.x / l,this5.y / l,this5.z / l);
		var this7 = new src_math_Vec3Data(0,1,0);
		tmp.setCamera(eye,this6,this7);
		window.requestAnimationFrame(src_Game.loop);
	});
};
src_Game.init = function() {
	var canvas = src_Game.createCanvas(1280,960);
	src_Game.gd = new src_graphics_GraphicsDevice(canvas);
};
src_Game.createCanvas = function(width,height) {
	var canvas = js_Boot.__cast(window.document.createElement("canvas") , HTMLCanvasElement);
	canvas.width = width;
	canvas.height = height;
	window.document.body.appendChild(canvas);
	return canvas;
};
src_Game.loop = function(time) {
	window.requestAnimationFrame(src_Game.loop);
	var dt = time - src_Game.prevTime;
	src_Game.prevTime = time;
	src_Game.update(dt);
	src_Game.render(dt);
};
src_Game.update = function(dt) {
	var c = Math.cos(0.01);
	var s = Math.sin(0.01);
	var eye = src_Game.scene.camera.position;
	eye.x = eye.x * c - eye.z * s;
	eye.z = eye.x * s + eye.z * c;
	var this1 = new src_math_Vec3Data(0,400,0);
	var v2 = this1;
	var this2 = new src_math_Vec3Data(eye.x - v2.x,eye.y - v2.y,eye.z - v2.z);
	var this3 = this2;
	var l = Math.sqrt(this3.x * this3.x + this3.y * this3.y + this3.z * this3.z);
	var this4 = new src_math_Vec3Data(this3.x / l,this3.y / l,this3.z / l);
	src_Game.scene.camera.forward = this4;
};
src_Game.render = function(dt) {
	src_Game.gd.startRender();
	var _g = 0;
	var _g1 = src_Game.meshes;
	while(_g < _g1.length) {
		var m = _g1[_g];
		++_g;
		m.render();
	}
	src_Game.gd.endRender();
};
var src_camera_Camera = function(position,forward,up) {
	var tmp;
	if(position == null) {
		var this1 = new src_math_Vec3Data(0,0,0);
		tmp = this1;
	} else {
		tmp = position;
	}
	this.position = tmp;
	var tmp1;
	if(forward == null) {
		var this2 = new src_math_Vec3Data(0,0,0);
		tmp1 = this2;
	} else {
		tmp1 = forward;
	}
	this.forward = tmp1;
	var tmp2;
	if(up == null) {
		var this3 = new src_math_Vec3Data(0,0,0);
		tmp2 = this3;
	} else {
		tmp2 = up;
	}
	this.up = tmp2;
};
src_camera_Camera.__name__ = true;
src_camera_Camera.prototype = {
	__class__: src_camera_Camera
};
var src_content_ContentManager = function() { };
src_content_ContentManager.__name__ = true;
var src_content_contentreaders_ModelReader = function(gd) {
	this.gd = gd;
};
src_content_contentreaders_ModelReader.__name__ = true;
src_content_contentreaders_ModelReader.prototype = {
	makeMeshesFromMqo: function(mqo) {
		var meshes = [];
		var _g = 0;
		var _g1 = mqo.objects;
		while(_g < _g1.length) {
			var obj = _g1[_g];
			++_g;
			meshes.push(this.makeMeshFromMqoObject(obj,mqo));
		}
		return meshes;
	}
	,makeMeshFromMqoObject: function(object,mqo) {
		var vertices = [];
		var partIndices = new haxe_ds_IntMap();
		var indexMap_h = { };
		var _g = 0;
		var _g1 = object.faces;
		while(_g < _g1.length) {
			var face = _g1[_g];
			++_g;
			var v1 = object.vertices[face.indices[1]];
			var v2 = object.vertices[face.indices[0]];
			var this1 = new src_math_Vec3Data(v1.x - v2.x,v1.y - v2.y,v1.z - v2.z);
			var this2 = this1;
			var v11 = object.vertices[face.indices[2]];
			var v21 = object.vertices[face.indices[0]];
			var this3 = new src_math_Vec3Data(v11.x - v21.x,v11.y - v21.y,v11.z - v21.z);
			var v = this3;
			var this4 = new src_math_Vec3Data(this2.y * v.z - this2.z * v.y,this2.z * v.x - this2.x * v.z,this2.x * v.y - this2.y * v.x);
			var this5 = this4;
			var l = Math.sqrt(this5.x * this5.x + this5.y * this5.y + this5.z * this5.z);
			var this6 = new src_math_Vec3Data(this5.x / l,this5.y / l,this5.z / l);
			var normal = this6;
			if(!partIndices.h.hasOwnProperty(face.material)) {
				var key = face.material;
				var value = [];
				partIndices.h[key] = value;
			}
			var _g2 = 0;
			while(_g2 < 3) {
				var i = _g2++;
				if(!indexMap_h.hasOwnProperty(face.indices[i])) {
					indexMap_h[face.indices[i]] = [];
					vertices[face.indices[i]] = new src_graphics_vertices_VertexPositionNormalTexture(object.vertices[face.indices[i]],normal,face.uv[i]);
					partIndices.h[face.material].push(face.indices[i]);
				} else {
					var foundIndex = false;
					var _g3 = 0;
					var _g4 = [face.indices[i]].concat(indexMap_h[face.indices[i]]);
					while(_g3 < _g4.length) {
						var index = _g4[_g3];
						++_g3;
						var v12 = vertices[index].normal;
						var this7 = new src_math_Vec3Data(v12.x + normal.x,v12.y + normal.y,v12.z + normal.z);
						vertices[index].normal = this7;
						var v13 = vertices[index].textureCoordinate;
						var v22 = face.uv[i];
						if(v13.x == v22.x && v13.y == v22.y) {
							partIndices.h[face.material].push(index);
							foundIndex = true;
						}
					}
					if(!foundIndex) {
						object.vertices.push(object.vertices[face.indices[i]]);
						var newIndex = object.vertices.length - 1;
						indexMap_h[face.indices[i]].push(newIndex);
						vertices[newIndex] = new src_graphics_vertices_VertexPositionNormalTexture(object.vertices[newIndex],vertices[face.indices[i]].normal,face.uv[i]);
						partIndices.h[face.material].push(newIndex);
					}
				}
			}
		}
		var indices = [];
		var meshParts = [];
		var offset = 0;
		var key1 = partIndices.keys();
		while(key1.hasNext()) {
			var key2 = key1.next();
			indices = indices.concat(partIndices.h[key2]);
			meshParts.push(new src_graphics_MeshPart(this.gd,mqo.materials[key2],partIndices.h[key2].length,offset * 2,null));
			offset += partIndices.h[key2].length;
		}
		var mesh = new src_graphics_Mesh(this.gd,mqo.scene,Lambda.array(Lambda.flatten(Lambda.flatten(vertices))),indices);
		var _g5 = 0;
		while(_g5 < meshParts.length) {
			var part = meshParts[_g5];
			++_g5;
			part.setParent(mesh);
		}
		return mesh;
	}
	,__class__: src_content_contentreaders_ModelReader
};
var src_graphics_Color = { __ename__ : true, __constructs__ : ["Red","Green","Blue","Black","White","Clear","Rgb","Rgba"] };
src_graphics_Color.Red = ["Red",0];
src_graphics_Color.Red.toString = $estr;
src_graphics_Color.Red.__enum__ = src_graphics_Color;
src_graphics_Color.Green = ["Green",1];
src_graphics_Color.Green.toString = $estr;
src_graphics_Color.Green.__enum__ = src_graphics_Color;
src_graphics_Color.Blue = ["Blue",2];
src_graphics_Color.Blue.toString = $estr;
src_graphics_Color.Blue.__enum__ = src_graphics_Color;
src_graphics_Color.Black = ["Black",3];
src_graphics_Color.Black.toString = $estr;
src_graphics_Color.Black.__enum__ = src_graphics_Color;
src_graphics_Color.White = ["White",4];
src_graphics_Color.White.toString = $estr;
src_graphics_Color.White.__enum__ = src_graphics_Color;
src_graphics_Color.Clear = ["Clear",5];
src_graphics_Color.Clear.toString = $estr;
src_graphics_Color.Clear.__enum__ = src_graphics_Color;
src_graphics_Color.Rgb = function(r,g,b) { var $x = ["Rgb",6,r,g,b]; $x.__enum__ = src_graphics_Color; $x.toString = $estr; return $x; };
src_graphics_Color.Rgba = function(r,g,b,a) { var $x = ["Rgba",7,r,g,b,a]; $x.__enum__ = src_graphics_Color; $x.toString = $estr; return $x; };
var src_graphics_GraphicsDevice = function(canvas) {
	try {
		src_graphics_GraphicsDevice.gl = canvas.getContext("webgl");
		if(src_graphics_GraphicsDevice.gl == null) {
			js_Browser.alert("Could not initialize WebGL");
		}
	} catch( e ) {
		if (e instanceof js__$Boot_HaxeError) e = e.val;
		js_Browser.alert(e);
	}
	src_graphics_GraphicsDevice.gl.enable(2929);
	src_graphics_GraphicsDevice.gl.enable(3042);
	src_graphics_GraphicsDevice.gl.blendFunc(770,771);
	src_graphics_GraphicsDevice.gl.viewport(0,0,canvas.width,canvas.height);
	src_graphics_GraphicsDevice.gl.clearColor(0.0,0.0,0.0,1.0);
	src_graphics_GraphicsDevice.gl.clear(16640);
	src_graphics_GraphicsDevice.maxVertexAttributes = src_graphics_GraphicsDevice.gl.getParameter(34921);
	this.shaderProgramCache = new src_graphics_shader_ShaderProgramCache(this);
	this.uniform1i = ($_=src_graphics_GraphicsDevice.gl,$bind($_,$_.uniform1i));
	this.uniform4fv = ($_=src_graphics_GraphicsDevice.gl,$bind($_,$_.uniform4fv));
	this.uniformMatrix4fv = ($_=src_graphics_GraphicsDevice.gl,$bind($_,$_.uniformMatrix4fv));
};
src_graphics_GraphicsDevice.__name__ = true;
src_graphics_GraphicsDevice.prototype = {
	resize: function(width,height) {
		src_graphics_GraphicsDevice.gl.canvas.width = width;
		src_graphics_GraphicsDevice.gl.canvas.height = height;
		src_graphics_GraphicsDevice.gl.viewport(0,0,width,height);
	}
	,createArrayBuffer: function(vertices) {
		var buffer = src_graphics_GraphicsDevice.gl.createBuffer();
		src_graphics_GraphicsDevice.gl.bindBuffer(34962,buffer);
		src_graphics_GraphicsDevice.gl.bufferData(34962,new Float32Array(vertices),35044);
		src_graphics_GraphicsDevice.gl.bindBuffer(34962,null);
		return buffer;
	}
	,createIndexBuffer: function(indices) {
		var buffer = src_graphics_GraphicsDevice.gl.createBuffer();
		src_graphics_GraphicsDevice.gl.bindBuffer(34963,buffer);
		src_graphics_GraphicsDevice.gl.bufferData(34963,new Int16Array(indices),35044);
		src_graphics_GraphicsDevice.gl.bindBuffer(34963,null);
		return buffer;
	}
	,setVertexBuffer: function(buffer) {
		src_graphics_GraphicsDevice.gl.bindBuffer(34962,buffer);
	}
	,setIndexBuffer: function(buffer) {
		src_graphics_GraphicsDevice.gl.bindBuffer(34963,buffer);
	}
	,vertexAttribPointer: function(location,size,pointerType,normalized,stride,offset) {
		src_graphics_GraphicsDevice.gl.vertexAttribPointer(location,size,pointerType,normalized,stride,offset);
	}
	,drawElements: function(mode,offset,count,declaration,shader) {
		if(declaration != null) {
			declaration.gd = this;
			declaration.apply(shader,0);
		}
		src_graphics_GraphicsDevice.gl.drawElements(mode,count,5123,offset);
	}
	,startRender: function() {
		src_graphics_GraphicsDevice.gl.clearColor(0,0,0,1);
		src_graphics_GraphicsDevice.gl.clear(16640);
	}
	,endRender: function() {
		src_graphics_GraphicsDevice.gl.flush();
	}
	,__class__: src_graphics_GraphicsDevice
};
var src_graphics_GraphicsExtensions = function() { };
src_graphics_GraphicsExtensions.__name__ = true;
src_graphics_GraphicsExtensions.numberOfElements = function(elementFormat) {
	switch(elementFormat[1]) {
	case 0:
		return 1;
	case 1:
		return 2;
	case 2:
		return 3;
	case 3:
		return 4;
	case 4:
		return 4;
	case 5:
		return 4;
	case 6:
		return 2;
	case 7:
		return 4;
	case 8:
		return 2;
	case 9:
		return 4;
	case 10:
		return 2;
	case 11:
		return 4;
	}
};
src_graphics_GraphicsExtensions.vertexAttribPointerType = function(elementFormat) {
	switch(elementFormat[1]) {
	case 0:
		return 5126;
	case 1:
		return 5126;
	case 2:
		return 5126;
	case 3:
		return 5126;
	case 4:
		return 5121;
	case 5:
		return 5121;
	case 6:
		return 5122;
	case 7:
		return 5122;
	case 8:
		return 5122;
	case 9:
		return 5122;
	case 10:
		return 36336;
	case 11:
		return 36336;
	}
};
src_graphics_GraphicsExtensions.vertexAttribNormalized = function(element) {
	if(element.usage == src_graphics_vertices_VertexElementUsage.Color) {
		return true;
	}
	var _g = element.format;
	switch(_g[1]) {
	case 8:
		return true;
	case 9:
		return true;
	default:
		return false;
	}
};
src_graphics_GraphicsExtensions.getName = function(usage) {
	switch(usage[1]) {
	case 0:
		return "Position";
	case 1:
		return "Color";
	case 2:
		return "TextureCoordinate";
	case 3:
		return "Normal";
	case 4:
		return "Binormal";
	case 5:
		return "Tangent";
	case 6:
		return "BlendIndices";
	case 7:
		return "BlendWeight";
	case 8:
		return "Depth";
	case 9:
		return "Fog";
	case 10:
		return "PointSize";
	case 11:
		return "Sample";
	case 12:
		return "TessellateFactor";
	}
};
src_graphics_GraphicsExtensions.getSize = function(elementFormat) {
	switch(elementFormat[1]) {
	case 0:
		return 4;
	case 1:
		return 8;
	case 2:
		return 12;
	case 3:
		return 16;
	case 4:
		return 4;
	case 5:
		return 4;
	case 6:
		return 4;
	case 7:
		return 8;
	case 8:
		return 4;
	case 9:
		return 8;
	case 10:
		return 4;
	case 11:
		return 8;
	}
};
var src_graphics_Material = function(gd,shader,col,dif,amb,spc,tex) {
	this.gd = gd;
	this.shader = shader;
	var tmp;
	switch(col[1]) {
	case 0:
		tmp = [1.0,0.0,0.0,1.0];
		break;
	case 1:
		tmp = [0.0,1.0,0.0,1.0];
		break;
	case 2:
		tmp = [0.0,0.0,1.0,1.0];
		break;
	case 3:
		tmp = [0.0,0.0,0.0,1.0];
		break;
	case 4:
		tmp = [1.0,1.0,1.0,1.0];
		break;
	case 5:
		tmp = [0.0,0.0,0.0,0.0];
		break;
	case 6:
		var b = col[4];
		var g = col[3];
		var r = col[2];
		tmp = [r,g,b,1.0];
		break;
	case 7:
		var a = col[5];
		var b1 = col[4];
		var g1 = col[3];
		var r1 = col[2];
		tmp = [r1,g1,b1,a];
		break;
	}
	this.col = tmp;
	this.dif = dif;
	this.amb = amb;
	this.spc = spc;
	this.tex = tex;
	this.transMatrixLocation = shader.getUniformLocation("transMatrix");
	this.viewMatrixLocation = shader.getUniformLocation("viewMatrix");
	this.projMatrixLocation = shader.getUniformLocation("projMatrix");
	this.colorLocation = shader.getUniformLocation("color");
	if(tex != null) {
		this.textureLocation = shader.getUniformLocation("texture");
	}
};
src_graphics_Material.__name__ = true;
src_graphics_Material.prototype = {
	apply: function(scene) {
		this.shader.useProgram();
		if(this.tex != null) {
			this.tex.useTexture();
			this.gd.uniform1i(this.textureLocation,0);
		}
		var tmp = this.gd.uniformMatrix4fv;
		var tmp1 = this.transMatrixLocation;
		var this1 = new src_math_Vec3Data(6,6,6);
		var v = this1;
		var this2 = new src_math_Mat4Data([v.x,0,0,0,0,v.y,0,0,0,0,v.z,0,0,0,0,1]);
		tmp(tmp1,false,src_math__$Mat4_Mat4_$Impl_$.toArray(this2));
		var tmp2 = this.gd.uniformMatrix4fv;
		var tmp3 = this.viewMatrixLocation;
		var camera = scene.camera;
		var eye = camera.position;
		var forward = camera.forward;
		var up = camera.up;
		var this3 = new src_math_Vec3Data(up.y * forward.z - up.z * forward.y,up.z * forward.x - up.x * forward.z,up.x * forward.y - up.y * forward.x);
		var this4 = this3;
		var l = Math.sqrt(this4.x * this4.x + this4.y * this4.y + this4.z * this4.z);
		var this5 = new src_math_Vec3Data(this4.x / l,this4.y / l,this4.z / l);
		var side = this5;
		var this6 = new src_math_Vec3Data(forward.y * side.z - forward.z * side.y,forward.z * side.x - forward.x * side.z,forward.x * side.y - forward.y * side.x);
		var this7 = this6;
		var l1 = Math.sqrt(this7.x * this7.x + this7.y * this7.y + this7.z * this7.z);
		var this8 = new src_math_Vec3Data(this7.x / l1,this7.y / l1,this7.z / l1);
		up = this8;
		var this9 = new src_math_Mat4Data([side.x,up.x,forward.x,0,side.y,up.y,forward.y,0,side.z,up.z,forward.z,0,-(eye.x * side.x + eye.y * side.y + eye.z * side.z),-(eye.x * up.x + eye.y * up.y + eye.z * up.z),-(eye.x * forward.x + eye.y * forward.y + eye.z * forward.z),1]);
		tmp2(tmp3,false,src_math__$Mat4_Mat4_$Impl_$.toArray(this9));
		var tmp4 = this.gd.uniformMatrix4fv;
		var tmp5 = this.projMatrixLocation;
		var t = Math.tan(Math.PI / 2 / 2);
		var this10 = new src_math_Mat4Data([1 / (1.33333333333333326 * t),0,0,0,0,1 / t,0,0,0,0,-1.02020202020202,-1,0,0,-202.020202020202021,0]);
		tmp4(tmp5,false,src_math__$Mat4_Mat4_$Impl_$.toArray(this10));
		this.gd.uniform4fv(this.colorLocation,this.col);
	}
	,__class__: src_graphics_Material
};
var src_graphics_Mesh = function(gd,scene,vertices,indices) {
	this.gd = gd;
	this.scene = scene;
	this.id = src_graphics_Mesh.maxId++;
	this.visible = true;
	this.vertexBuffer = gd.createArrayBuffer(vertices);
	this.indexBuffer = gd.createIndexBuffer(indices);
	this.meshParts = new haxe_ds_List();
};
src_graphics_Mesh.__name__ = true;
src_graphics_Mesh.prototype = {
	render: function() {
		if(this.visible) {
			this.gd.setVertexBuffer(this.vertexBuffer);
			this.gd.setIndexBuffer(this.indexBuffer);
			var _g_head = this.meshParts.h;
			while(_g_head != null) {
				var val = _g_head.item;
				_g_head = _g_head.next;
				var part = val;
				part.material.apply(this.scene);
				this.gd.drawElements(4,part.vertexOffset,part.numVertices,src_graphics_vertices_VertexPositionNormalTexture.vertexDeclaration,part.material.shader);
			}
		}
	}
	,__class__: src_graphics_Mesh
};
var src_graphics_MeshPart = function(gd,material,numVertices,vertexOffset,parent) {
	this.material = material;
	this.numVertices = numVertices;
	this.vertexOffset = vertexOffset;
	this.parent = parent;
};
src_graphics_MeshPart.__name__ = true;
src_graphics_MeshPart.prototype = {
	setParent: function(mesh) {
		if(this.parent != null) {
			this.parent.meshParts.remove(this);
		}
		this.parent = mesh;
		this.parent.meshParts.add(this);
	}
	,__class__: src_graphics_MeshPart
};
var src_graphics_Texture = function(src1) {
	var _gthis = this;
	this.img = new Image();
	this.img.src = src1;
	src_graphics_GraphicsDevice.gl.activeTexture(33984);
	var texture = src_graphics_GraphicsDevice.gl.createTexture();
	src_graphics_GraphicsDevice.gl.bindTexture(3553,texture);
	src_graphics_GraphicsDevice.gl.texImage2D(3553,0,6408,2,2,0,6408,5121,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));
	src_graphics_GraphicsDevice.gl.generateMipmap(3553);
	src_graphics_GraphicsDevice.gl.bindTexture(3553,null);
	this.tex = texture;
	this.img.onload = function(_) {
		src_graphics_GraphicsDevice.gl.bindTexture(3553,texture);
		src_graphics_GraphicsDevice.gl.texImage2D(3553,0,6408,6408,5121,_gthis.img);
		src_graphics_GraphicsDevice.gl.generateMipmap(3553);
		src_graphics_GraphicsDevice.gl.bindTexture(3553,null);
	};
};
src_graphics_Texture.__name__ = true;
src_graphics_Texture.prototype = {
	setFilter: function(filter) {
		src_graphics_GraphicsDevice.gl.bindTexture(3553,this.tex);
		switch(filter[1]) {
		case 0:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9729);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9729);
			break;
		case 1:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9728);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9728);
			break;
		case 2:
			throw new js__$Boot_HaxeError("Anisotropic filter isn't implemented");
		case 3:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9728);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9986);
			break;
		case 4:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9729);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9985);
			break;
		case 5:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9729);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9985);
			break;
		case 6:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9728);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9984);
			break;
		case 7:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9729);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9987);
			break;
		case 8:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10240,9728);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10241,9986);
			break;
		}
		src_graphics_GraphicsDevice.gl.bindTexture(3553,null);
	}
	,setAddressMode: function(mode) {
		src_graphics_GraphicsDevice.gl.bindTexture(3553,this.tex);
		switch(mode[1]) {
		case 0:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10242,10497);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10243,10497);
			break;
		case 1:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10242,33071);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10243,33071);
			break;
		case 2:
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10242,33648);
			src_graphics_GraphicsDevice.gl.texParameteri(3553,10243,33648);
			break;
		}
		src_graphics_GraphicsDevice.gl.bindTexture(3553,null);
	}
	,setParameterf: function(pname,param) {
		src_graphics_GraphicsDevice.gl.bindTexture(3553,this.tex);
		src_graphics_GraphicsDevice.gl.texParameterf(3553,pname,param);
		src_graphics_GraphicsDevice.gl.bindTexture(3553,null);
	}
	,useTexture: function() {
		src_graphics_GraphicsDevice.gl.bindTexture(3553,this.tex);
	}
	,__class__: src_graphics_Texture
};
var src_graphics_shader_Shader = function(vertexShaderSource,fragmentShaderSource) {
	this.uniformLocations = new haxe_ds_StringMap();
	var vertexShader = this.getShader(35633,vertexShaderSource);
	var fragmentShader = this.getShader(35632,fragmentShaderSource);
	this.program = this.get_gl().createProgram();
	this.get_gl().attachShader(this.program,vertexShader);
	this.get_gl().attachShader(this.program,fragmentShader);
	this.get_gl().linkProgram(this.program);
	if(!this.get_gl().getProgramParameter(this.program,35714)) {
		js_Browser.alert("Could not initialize shaders");
	}
};
src_graphics_shader_Shader.__name__ = true;
src_graphics_shader_Shader.prototype = {
	get_gl: function() {
		return src_graphics_GraphicsDevice.gl;
	}
	,getAttribLocation: function(name) {
		var location = this.get_gl().getAttribLocation(this.program,name);
		this.get_gl().enableVertexAttribArray(location);
		return location;
	}
	,getUniformLocation: function(name) {
		var _this = this.uniformLocations;
		if(__map_reserved[name] != null ? _this.existsReserved(name) : _this.h.hasOwnProperty(name)) {
			var _this1 = this.uniformLocations;
			if(__map_reserved[name] != null) {
				return _this1.getReserved(name);
			} else {
				return _this1.h[name];
			}
		}
		var location = this.get_gl().getUniformLocation(this.program,name);
		var _this2 = this.uniformLocations;
		if(__map_reserved[name] != null) {
			_this2.setReserved(name,location);
		} else {
			_this2.h[name] = location;
		}
		return location;
	}
	,useProgram: function() {
		this.get_gl().useProgram(this.program);
	}
	,getShader: function(shaderType,str) {
		var shader = this.get_gl().createShader(shaderType);
		this.get_gl().shaderSource(shader,str);
		this.get_gl().compileShader(shader);
		if(!this.get_gl().getShaderParameter(shader,35713)) {
			js_Browser.alert(this.get_gl().getShaderInfoLog(shader));
			return null;
		}
		return shader;
	}
	,__class__: src_graphics_shader_Shader
};
var src_graphics_shader_ShaderProgramCache = function(gd) {
	this.gd = gd;
	this.programCache = new haxe_ds_StringMap();
};
src_graphics_shader_ShaderProgramCache.__name__ = true;
src_graphics_shader_ShaderProgramCache.prototype = {
	getProgram: function(vert,frag) {
		var key = vert + "/" + frag;
		var _this = this.programCache;
		if(!(__map_reserved[key] != null ? _this.existsReserved(key) : _this.h.hasOwnProperty(key))) {
			var this1 = this.programCache;
			var value = this.link(vert,frag);
			var _this1 = this1;
			if(__map_reserved[key] != null) {
				_this1.setReserved(key,value);
			} else {
				_this1.h[key] = value;
			}
		}
		var _this2 = this.programCache;
		if(__map_reserved[key] != null) {
			return _this2.getReserved(key);
		} else {
			return _this2.h[key];
		}
	}
	,link: function(vert,frag) {
		var v = haxe_Http.requestUrl(vert + ".vert");
		var f = haxe_Http.requestUrl(frag + ".frag");
		return new src_graphics_shader_Shader(v,f);
	}
	,__class__: src_graphics_shader_ShaderProgramCache
};
var src_graphics_states_TextureAddressMode = { __ename__ : true, __constructs__ : ["Wrap","Clamp","Mirror"] };
src_graphics_states_TextureAddressMode.Wrap = ["Wrap",0];
src_graphics_states_TextureAddressMode.Wrap.toString = $estr;
src_graphics_states_TextureAddressMode.Wrap.__enum__ = src_graphics_states_TextureAddressMode;
src_graphics_states_TextureAddressMode.Clamp = ["Clamp",1];
src_graphics_states_TextureAddressMode.Clamp.toString = $estr;
src_graphics_states_TextureAddressMode.Clamp.__enum__ = src_graphics_states_TextureAddressMode;
src_graphics_states_TextureAddressMode.Mirror = ["Mirror",2];
src_graphics_states_TextureAddressMode.Mirror.toString = $estr;
src_graphics_states_TextureAddressMode.Mirror.__enum__ = src_graphics_states_TextureAddressMode;
var src_graphics_states_TextureFilter = { __ename__ : true, __constructs__ : ["Linear","Point","Anisotropic","LinearMipPoint","PointMipLinear","MinLinearMagPointMipLinear","MinLinearMagPointMipPoint","MinPointMagLinearMipLinear","MinPointMagLinearMipPoint"] };
src_graphics_states_TextureFilter.Linear = ["Linear",0];
src_graphics_states_TextureFilter.Linear.toString = $estr;
src_graphics_states_TextureFilter.Linear.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.Point = ["Point",1];
src_graphics_states_TextureFilter.Point.toString = $estr;
src_graphics_states_TextureFilter.Point.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.Anisotropic = ["Anisotropic",2];
src_graphics_states_TextureFilter.Anisotropic.toString = $estr;
src_graphics_states_TextureFilter.Anisotropic.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.LinearMipPoint = ["LinearMipPoint",3];
src_graphics_states_TextureFilter.LinearMipPoint.toString = $estr;
src_graphics_states_TextureFilter.LinearMipPoint.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.PointMipLinear = ["PointMipLinear",4];
src_graphics_states_TextureFilter.PointMipLinear.toString = $estr;
src_graphics_states_TextureFilter.PointMipLinear.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.MinLinearMagPointMipLinear = ["MinLinearMagPointMipLinear",5];
src_graphics_states_TextureFilter.MinLinearMagPointMipLinear.toString = $estr;
src_graphics_states_TextureFilter.MinLinearMagPointMipLinear.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.MinLinearMagPointMipPoint = ["MinLinearMagPointMipPoint",6];
src_graphics_states_TextureFilter.MinLinearMagPointMipPoint.toString = $estr;
src_graphics_states_TextureFilter.MinLinearMagPointMipPoint.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.MinPointMagLinearMipLinear = ["MinPointMagLinearMipLinear",7];
src_graphics_states_TextureFilter.MinPointMagLinearMipLinear.toString = $estr;
src_graphics_states_TextureFilter.MinPointMagLinearMipLinear.__enum__ = src_graphics_states_TextureFilter;
src_graphics_states_TextureFilter.MinPointMagLinearMipPoint = ["MinPointMagLinearMipPoint",8];
src_graphics_states_TextureFilter.MinPointMagLinearMipPoint.toString = $estr;
src_graphics_states_TextureFilter.MinPointMagLinearMipPoint.__enum__ = src_graphics_states_TextureFilter;
var src_graphics_vertices_VertexDeclaration = function(vertexStride,elements) {
	this.shaderAttributeInfo = new haxe_ds_ObjectMap();
	if(elements == null || elements.length == 0) {
		throw new js__$Boot_HaxeError("Elements cannot be empty");
	}
	this.elements = elements;
	if(vertexStride == null) {
		this.vertexStride = this.getVertexStride(elements);
	} else {
		this.vertexStride = vertexStride;
	}
};
src_graphics_vertices_VertexDeclaration.__name__ = true;
src_graphics_vertices_VertexDeclaration.prototype = {
	getAttributeInfo: function(shader) {
		if(this.shaderAttributeInfo.h.__keys__[shader.__id__] != null) {
			return this.shaderAttributeInfo.h[shader.__id__];
		}
		var attrInfo = new src_graphics_vertices__$VertexDeclaration_VertexDeclarationAttributeInfo(src_graphics_GraphicsDevice.maxVertexAttributes);
		var _g = 0;
		var _g1 = this.elements;
		while(_g < _g1.length) {
			var ve = _g1[_g];
			++_g;
			var attributeLocation = shader.getAttribLocation(src_graphics_GraphicsExtensions.getName(ve.usage) + (ve.usageIndex >= 1 ? "" + ve.usageIndex : ""));
			if(attributeLocation < 0) {
				continue;
			}
			attrInfo.elements.push(new src_graphics_vertices__$VertexDeclaration_Element(ve.offset,attributeLocation,src_graphics_GraphicsExtensions.numberOfElements(ve.format),src_graphics_GraphicsExtensions.vertexAttribPointerType(ve.format),src_graphics_GraphicsExtensions.vertexAttribNormalized(ve)));
		}
		this.shaderAttributeInfo.set(shader,attrInfo);
		return attrInfo;
	}
	,apply: function(shader,offset) {
		var attrInfo = this.getAttributeInfo(shader);
		var _g_head = attrInfo.elements.h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			var element = val;
			this.gd.vertexAttribPointer(element.attributeLocation,element.numberOfElements,element.vertexAttribPointerType,element.normalized,this.vertexStride,offset + element.offset);
		}
	}
	,getVertexStride: function(elements) {
		var max = 0;
		var _g1 = 0;
		var _g = elements.length;
		while(_g1 < _g) {
			var i = _g1++;
			var start = elements[i].offset + src_graphics_GraphicsExtensions.getSize(elements[i].format);
			if(max < start) {
				max = start;
			}
		}
		return max;
	}
	,__class__: src_graphics_vertices_VertexDeclaration
};
var src_graphics_vertices__$VertexDeclaration_VertexDeclarationAttributeInfo = function(maxVertexAttributes) {
	this.maxVertexAttributes = maxVertexAttributes;
	this.elements = new haxe_ds_List();
};
src_graphics_vertices__$VertexDeclaration_VertexDeclarationAttributeInfo.__name__ = true;
src_graphics_vertices__$VertexDeclaration_VertexDeclarationAttributeInfo.prototype = {
	__class__: src_graphics_vertices__$VertexDeclaration_VertexDeclarationAttributeInfo
};
var src_graphics_vertices__$VertexDeclaration_Element = function(offset,attributeLocation,numberOfElements,vertexAttribPointerType,normalized) {
	this.offset = offset;
	this.attributeLocation = attributeLocation;
	this.numberOfElements = numberOfElements;
	this.vertexAttribPointerType = vertexAttribPointerType;
	this.normalized = normalized;
};
src_graphics_vertices__$VertexDeclaration_Element.__name__ = true;
src_graphics_vertices__$VertexDeclaration_Element.prototype = {
	__class__: src_graphics_vertices__$VertexDeclaration_Element
};
var src_graphics_vertices_VertexElement = function(offset,elementFormat,elementUsage,usageIndex) {
	this.offset = offset;
	this.format = elementFormat;
	this.usage = elementUsage;
	this.usageIndex = usageIndex;
};
src_graphics_vertices_VertexElement.__name__ = true;
src_graphics_vertices_VertexElement.prototype = {
	equals: function(other) {
		if(this.offset == other.offset && this.format == other.format && this.usage == other.usage) {
			return this.usageIndex == other.usageIndex;
		} else {
			return false;
		}
	}
	,__class__: src_graphics_vertices_VertexElement
};
var src_graphics_vertices_VertexElementFormat = { __ename__ : true, __constructs__ : ["Single","Vector2","Vector3","Vector4","Color","Byte4","Short2","Short4","NormalizedShort2","NormalizedShort4","HalfVector2","HalfVector4"] };
src_graphics_vertices_VertexElementFormat.Single = ["Single",0];
src_graphics_vertices_VertexElementFormat.Single.toString = $estr;
src_graphics_vertices_VertexElementFormat.Single.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.Vector2 = ["Vector2",1];
src_graphics_vertices_VertexElementFormat.Vector2.toString = $estr;
src_graphics_vertices_VertexElementFormat.Vector2.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.Vector3 = ["Vector3",2];
src_graphics_vertices_VertexElementFormat.Vector3.toString = $estr;
src_graphics_vertices_VertexElementFormat.Vector3.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.Vector4 = ["Vector4",3];
src_graphics_vertices_VertexElementFormat.Vector4.toString = $estr;
src_graphics_vertices_VertexElementFormat.Vector4.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.Color = ["Color",4];
src_graphics_vertices_VertexElementFormat.Color.toString = $estr;
src_graphics_vertices_VertexElementFormat.Color.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.Byte4 = ["Byte4",5];
src_graphics_vertices_VertexElementFormat.Byte4.toString = $estr;
src_graphics_vertices_VertexElementFormat.Byte4.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.Short2 = ["Short2",6];
src_graphics_vertices_VertexElementFormat.Short2.toString = $estr;
src_graphics_vertices_VertexElementFormat.Short2.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.Short4 = ["Short4",7];
src_graphics_vertices_VertexElementFormat.Short4.toString = $estr;
src_graphics_vertices_VertexElementFormat.Short4.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.NormalizedShort2 = ["NormalizedShort2",8];
src_graphics_vertices_VertexElementFormat.NormalizedShort2.toString = $estr;
src_graphics_vertices_VertexElementFormat.NormalizedShort2.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.NormalizedShort4 = ["NormalizedShort4",9];
src_graphics_vertices_VertexElementFormat.NormalizedShort4.toString = $estr;
src_graphics_vertices_VertexElementFormat.NormalizedShort4.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.HalfVector2 = ["HalfVector2",10];
src_graphics_vertices_VertexElementFormat.HalfVector2.toString = $estr;
src_graphics_vertices_VertexElementFormat.HalfVector2.__enum__ = src_graphics_vertices_VertexElementFormat;
src_graphics_vertices_VertexElementFormat.HalfVector4 = ["HalfVector4",11];
src_graphics_vertices_VertexElementFormat.HalfVector4.toString = $estr;
src_graphics_vertices_VertexElementFormat.HalfVector4.__enum__ = src_graphics_vertices_VertexElementFormat;
var src_graphics_vertices_VertexElementUsage = { __ename__ : true, __constructs__ : ["Position","Color","TextureCoordinate","Normal","Binormal","Tangent","BlendIndices","BlendWeight","Depth","Fog","PointSize","Sample","TessellateFactor"] };
src_graphics_vertices_VertexElementUsage.Position = ["Position",0];
src_graphics_vertices_VertexElementUsage.Position.toString = $estr;
src_graphics_vertices_VertexElementUsage.Position.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.Color = ["Color",1];
src_graphics_vertices_VertexElementUsage.Color.toString = $estr;
src_graphics_vertices_VertexElementUsage.Color.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.TextureCoordinate = ["TextureCoordinate",2];
src_graphics_vertices_VertexElementUsage.TextureCoordinate.toString = $estr;
src_graphics_vertices_VertexElementUsage.TextureCoordinate.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.Normal = ["Normal",3];
src_graphics_vertices_VertexElementUsage.Normal.toString = $estr;
src_graphics_vertices_VertexElementUsage.Normal.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.Binormal = ["Binormal",4];
src_graphics_vertices_VertexElementUsage.Binormal.toString = $estr;
src_graphics_vertices_VertexElementUsage.Binormal.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.Tangent = ["Tangent",5];
src_graphics_vertices_VertexElementUsage.Tangent.toString = $estr;
src_graphics_vertices_VertexElementUsage.Tangent.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.BlendIndices = ["BlendIndices",6];
src_graphics_vertices_VertexElementUsage.BlendIndices.toString = $estr;
src_graphics_vertices_VertexElementUsage.BlendIndices.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.BlendWeight = ["BlendWeight",7];
src_graphics_vertices_VertexElementUsage.BlendWeight.toString = $estr;
src_graphics_vertices_VertexElementUsage.BlendWeight.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.Depth = ["Depth",8];
src_graphics_vertices_VertexElementUsage.Depth.toString = $estr;
src_graphics_vertices_VertexElementUsage.Depth.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.Fog = ["Fog",9];
src_graphics_vertices_VertexElementUsage.Fog.toString = $estr;
src_graphics_vertices_VertexElementUsage.Fog.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.PointSize = ["PointSize",10];
src_graphics_vertices_VertexElementUsage.PointSize.toString = $estr;
src_graphics_vertices_VertexElementUsage.PointSize.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.Sample = ["Sample",11];
src_graphics_vertices_VertexElementUsage.Sample.toString = $estr;
src_graphics_vertices_VertexElementUsage.Sample.__enum__ = src_graphics_vertices_VertexElementUsage;
src_graphics_vertices_VertexElementUsage.TessellateFactor = ["TessellateFactor",12];
src_graphics_vertices_VertexElementUsage.TessellateFactor.toString = $estr;
src_graphics_vertices_VertexElementUsage.TessellateFactor.__enum__ = src_graphics_vertices_VertexElementUsage;
var src_graphics_vertices_VertexType = function() { };
src_graphics_vertices_VertexType.__name__ = true;
src_graphics_vertices_VertexType.prototype = {
	__class__: src_graphics_vertices_VertexType
};
var src_graphics_vertices_VertexPosition = function(position) {
	if(src_graphics_vertices_VertexPosition.dummy == null) {
		src_graphics_vertices_VertexPosition.dummy = this;
		src_graphics_vertices_VertexPosition.init();
	}
	this.position = position;
};
src_graphics_vertices_VertexPosition.__name__ = true;
src_graphics_vertices_VertexPosition.__interfaces__ = [src_graphics_vertices_VertexType];
src_graphics_vertices_VertexPosition.init = function() {
	var elements = [];
	elements.push(new src_graphics_vertices_VertexElement(0,src_graphics_vertices_VertexElementFormat.Vector3,src_graphics_vertices_VertexElementUsage.Position,0));
	src_graphics_vertices_VertexPosition.vertexDeclaration = new src_graphics_vertices_VertexDeclaration(3,elements);
};
src_graphics_vertices_VertexPosition.prototype = {
	iterator: function() {
		return HxOverrides.iter([this.position]);
	}
	,__class__: src_graphics_vertices_VertexPosition
};
var src_graphics_vertices_VertexPositionNormalTexture = function(position,normal,textureCoordinate) {
	if(src_graphics_vertices_VertexPositionNormalTexture.dummy == null) {
		src_graphics_vertices_VertexPositionNormalTexture.dummy = this;
		src_graphics_vertices_VertexPositionNormalTexture.init();
	}
	this.position = position;
	this.normal = normal;
	this.textureCoordinate = textureCoordinate;
};
src_graphics_vertices_VertexPositionNormalTexture.__name__ = true;
src_graphics_vertices_VertexPositionNormalTexture.__interfaces__ = [src_graphics_vertices_VertexType];
src_graphics_vertices_VertexPositionNormalTexture.init = function() {
	var elements = [];
	elements.push(new src_graphics_vertices_VertexElement(0,src_graphics_vertices_VertexElementFormat.Vector3,src_graphics_vertices_VertexElementUsage.Position,0));
	elements.push(new src_graphics_vertices_VertexElement(12,src_graphics_vertices_VertexElementFormat.Vector3,src_graphics_vertices_VertexElementUsage.Normal,0));
	elements.push(new src_graphics_vertices_VertexElement(24,src_graphics_vertices_VertexElementFormat.Vector2,src_graphics_vertices_VertexElementUsage.TextureCoordinate,0));
	src_graphics_vertices_VertexPositionNormalTexture.vertexDeclaration = new src_graphics_vertices_VertexDeclaration(null,elements);
};
src_graphics_vertices_VertexPositionNormalTexture.prototype = {
	iterator: function() {
		var array = [this.position,this.normal,this.textureCoordinate];
		return HxOverrides.iter(array);
	}
	,__class__: src_graphics_vertices_VertexPositionNormalTexture
};
var src_graphics_vertices_VertexPositionTexture = function(position,textureCoordinate) {
	if(src_graphics_vertices_VertexPositionTexture.dummy == null) {
		src_graphics_vertices_VertexPositionTexture.dummy = this;
		src_graphics_vertices_VertexPositionTexture.init();
	}
	this.position = position;
	this.textureCoordinate = textureCoordinate;
};
src_graphics_vertices_VertexPositionTexture.__name__ = true;
src_graphics_vertices_VertexPositionTexture.__interfaces__ = [src_graphics_vertices_VertexType];
src_graphics_vertices_VertexPositionTexture.init = function() {
	var elements = [];
	elements.push(new src_graphics_vertices_VertexElement(0,src_graphics_vertices_VertexElementFormat.Vector3,src_graphics_vertices_VertexElementUsage.Position,0));
	elements.push(new src_graphics_vertices_VertexElement(12,src_graphics_vertices_VertexElementFormat.Vector2,src_graphics_vertices_VertexElementUsage.TextureCoordinate,0));
	src_graphics_vertices_VertexPositionTexture.vertexDeclaration = new src_graphics_vertices_VertexDeclaration(null,elements);
};
src_graphics_vertices_VertexPositionTexture.prototype = {
	iterator: function() {
		var array = [this.position,this.textureCoordinate];
		return HxOverrides.iter(array);
	}
	,__class__: src_graphics_vertices_VertexPositionTexture
};
var src_math__$Mat4_Mat4_$Impl_$ = {};
src_math__$Mat4_Mat4_$Impl_$.__name__ = true;
src_math__$Mat4_Mat4_$Impl_$.get_identity = function() {
	var this1 = new src_math_Mat4Data([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$._new = function(m) {
	var this1 = new src_math_Mat4Data(m);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$.toArray = function(this1) {
	return this1.m;
};
src_math__$Mat4_Mat4_$Impl_$.fromArray = function(m) {
	var this1 = new src_math_Mat4Data(m);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$.minus = function(m) {
	var this1 = new src_math_Mat4Data(null);
	var m2 = this1;
	var _g = 0;
	while(_g < 16) {
		var i = _g++;
		m2.m[i] = -m.m[i];
	}
	return m2;
};
src_math__$Mat4_Mat4_$Impl_$.add = function(m1,m2) {
	var this1 = new src_math_Mat4Data(null);
	var m3 = this1;
	var _g = 0;
	while(_g < 16) {
		var i = _g++;
		m3.m[i] = m1.m[i] + m2.m[i];
	}
	return m3;
};
src_math__$Mat4_Mat4_$Impl_$.sub = function(m1,m2) {
	var this1 = new src_math_Mat4Data(null);
	var m3 = this1;
	var _g = 0;
	while(_g < 16) {
		var i = _g++;
		m3.m[i] = m1.m[i] - m2.m[i];
	}
	return m3;
};
src_math__$Mat4_Mat4_$Impl_$.mult = function(m1,m2) {
	var this1 = new src_math_Mat4Data(null);
	var m3 = this1;
	var _g = 0;
	while(_g < 4) {
		var i = _g++;
		var _g1 = 0;
		while(_g1 < 4) {
			var j = _g1++;
			var temp = 0.0;
			var _g2 = 0;
			while(_g2 < 4) {
				var k = _g2++;
				temp += m1.m[i * 4 + k] * m2.m[k * 4 + j];
			}
			m3.m[i * 4 + j] = temp;
		}
	}
	return m3;
};
src_math__$Mat4_Mat4_$Impl_$.multScalar = function(m,x) {
	var this1 = new src_math_Mat4Data(null);
	var m2 = this1;
	var _g = 0;
	while(_g < 16) {
		var i = _g++;
		m2.m[i] = m.m[i] * x;
	}
	return m2;
};
src_math__$Mat4_Mat4_$Impl_$.translate = function(v) {
	var this1 = new src_math_Mat4Data([1,0,0,0,0,1,0,0,0,0,1,0,v.x,v.y,v.z,1]);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$.rotateX = function(t) {
	var s = Math.sin(t);
	var c = Math.cos(t);
	var this1 = new src_math_Mat4Data([1,0,0,0,0,c,-s,0,0,s,c,0,0,0,0,1]);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$.rotateY = function(t) {
	var s = Math.sin(t);
	var c = Math.cos(t);
	var this1 = new src_math_Mat4Data([c,0,s,0,0,1,0,0,-s,0,c,0,0,0,0,1]);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$.rotateZ = function(t) {
	var s = Math.sin(t);
	var c = Math.cos(t);
	var this1 = new src_math_Mat4Data([c,-s,0,0,s,c,0,0,0,0,1,0,0,0,0,1]);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$.scale = function(v) {
	var this1 = new src_math_Mat4Data([v.x,0,0,0,0,v.y,0,0,0,0,v.z,0,0,0,0,1]);
	return this1;
};
src_math__$Mat4_Mat4_$Impl_$.lookAt = function(camera) {
	var eye = camera.position;
	var forward = camera.forward;
	var up = camera.up;
	var this1 = new src_math_Vec3Data(up.y * forward.z - up.z * forward.y,up.z * forward.x - up.x * forward.z,up.x * forward.y - up.y * forward.x);
	var this2 = this1;
	var l = Math.sqrt(this2.x * this2.x + this2.y * this2.y + this2.z * this2.z);
	var this3 = new src_math_Vec3Data(this2.x / l,this2.y / l,this2.z / l);
	var side = this3;
	var this4 = new src_math_Vec3Data(forward.y * side.z - forward.z * side.y,forward.z * side.x - forward.x * side.z,forward.x * side.y - forward.y * side.x);
	var this5 = this4;
	var l1 = Math.sqrt(this5.x * this5.x + this5.y * this5.y + this5.z * this5.z);
	var this6 = new src_math_Vec3Data(this5.x / l1,this5.y / l1,this5.z / l1);
	up = this6;
	var this7 = new src_math_Mat4Data([side.x,up.x,forward.x,0,side.y,up.y,forward.y,0,side.z,up.z,forward.z,0,-(eye.x * side.x + eye.y * side.y + eye.z * side.z),-(eye.x * up.x + eye.y * up.y + eye.z * up.z),-(eye.x * forward.x + eye.y * forward.y + eye.z * forward.z),1]);
	return this7;
};
src_math__$Mat4_Mat4_$Impl_$.perspective = function(asp,fov,near,far) {
	var t = Math.tan(fov / 2);
	var this1 = new src_math_Mat4Data([1 / (asp * t),0,0,0,0,1 / t,0,0,0,0,(near + far) / (near - far),-1,0,0,2 * near * far / (near - far),0]);
	return this1;
};
var src_math_Mat4Data = function(m) {
	this.m = m == null ? [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] : m;
};
src_math_Mat4Data.__name__ = true;
src_math_Mat4Data.prototype = {
	iterator: function() {
		return HxOverrides.iter(this.m);
	}
	,__class__: src_math_Mat4Data
};
var src_math__$Vec2_Vec2_$Impl_$ = {};
src_math__$Vec2_Vec2_$Impl_$.__name__ = true;
src_math__$Vec2_Vec2_$Impl_$._new = function(x,y) {
	var this1 = new src_math_Vec2Data(x,y);
	return this1;
};
src_math__$Vec2_Vec2_$Impl_$.$length = function(this1) {
	return Math.sqrt(this1.x * this1.x + this1.y * this1.y);
};
src_math__$Vec2_Vec2_$Impl_$.normalize = function(this1) {
	var l = Math.sqrt(this1.x * this1.x + this1.y * this1.y);
	var this2 = new src_math_Vec2Data(this1.x / l,this1.y / l);
	return this2;
};
src_math__$Vec2_Vec2_$Impl_$.minus = function(v) {
	var this1 = new src_math_Vec2Data(-v.x,-v.y);
	return this1;
};
src_math__$Vec2_Vec2_$Impl_$.add = function(v1,v2) {
	var this1 = new src_math_Vec2Data(v1.x + v2.x,v1.y + v2.y);
	return this1;
};
src_math__$Vec2_Vec2_$Impl_$.sub = function(v1,v2) {
	var this1 = new src_math_Vec2Data(v1.x - v2.x,v1.y - v2.y);
	return this1;
};
src_math__$Vec2_Vec2_$Impl_$.equals = function(v1,v2) {
	if(v1.x == v2.x) {
		return v1.y == v2.y;
	} else {
		return false;
	}
};
src_math__$Vec2_Vec2_$Impl_$.dot = function(this1,v) {
	return this1.x * v.x + this1.y * v.y;
};
src_math__$Vec2_Vec2_$Impl_$.cross = function(this1,v) {
	return this1.x * v.y - this1.y * v.x;
};
var src_math_Vec2Data = function(x,y) {
	this.x = x;
	this.y = y;
};
src_math_Vec2Data.__name__ = true;
src_math_Vec2Data.prototype = {
	iterator: function() {
		return HxOverrides.iter([this.x,this.y]);
	}
	,__class__: src_math_Vec2Data
};
var src_math__$Vec3_Vec3_$Impl_$ = {};
src_math__$Vec3_Vec3_$Impl_$.__name__ = true;
src_math__$Vec3_Vec3_$Impl_$._new = function(x,y,z) {
	var this1 = new src_math_Vec3Data(x,y,z);
	return this1;
};
src_math__$Vec3_Vec3_$Impl_$.$length = function(this1) {
	return Math.sqrt(this1.x * this1.x + this1.y * this1.y + this1.z * this1.z);
};
src_math__$Vec3_Vec3_$Impl_$.normalize = function(this1) {
	var l = Math.sqrt(this1.x * this1.x + this1.y * this1.y + this1.z * this1.z);
	var this2 = new src_math_Vec3Data(this1.x / l,this1.y / l,this1.z / l);
	return this2;
};
src_math__$Vec3_Vec3_$Impl_$.minus = function(v) {
	var this1 = new src_math_Vec3Data(-v.x,-v.y,-v.z);
	return this1;
};
src_math__$Vec3_Vec3_$Impl_$.add = function(v1,v2) {
	var this1 = new src_math_Vec3Data(v1.x + v2.x,v1.y + v2.y,v1.z + v2.z);
	return this1;
};
src_math__$Vec3_Vec3_$Impl_$.sub = function(v1,v2) {
	var this1 = new src_math_Vec3Data(v1.x - v2.x,v1.y - v2.y,v1.z - v2.z);
	return this1;
};
src_math__$Vec3_Vec3_$Impl_$.equals = function(v1,v2) {
	if(v1.x == v2.x && v1.y == v2.y) {
		return v1.z == v2.z;
	} else {
		return false;
	}
};
src_math__$Vec3_Vec3_$Impl_$.dot = function(this1,v) {
	return this1.x * v.x + this1.y * v.y + this1.z * v.z;
};
src_math__$Vec3_Vec3_$Impl_$.cross = function(this1,v) {
	var this2 = new src_math_Vec3Data(this1.y * v.z - this1.z * v.y,this1.z * v.x - this1.x * v.z,this1.x * v.y - this1.y * v.x);
	return this2;
};
var src_math_Vec3Data = function(x,y,z) {
	this.x = x;
	this.y = y;
	this.z = z;
};
src_math_Vec3Data.__name__ = true;
src_math_Vec3Data.prototype = {
	iterator: function() {
		return HxOverrides.iter([this.x,this.y,this.z]);
	}
	,__class__: src_math_Vec3Data
};
var src_parser_Mqo = function(scene,materials,objects) {
	this.scene = scene;
	this.materials = materials;
	this.objects = objects;
};
src_parser_Mqo.__name__ = true;
src_parser_Mqo.prototype = {
	__class__: src_parser_Mqo
};
var src_parser_MqoFace = function(indices,material,uv,col,crs) {
	this.indices = indices;
	this.material = material;
	this.uv = uv;
	this.col = col;
	this.crs = crs;
};
src_parser_MqoFace.__name__ = true;
src_parser_MqoFace.prototype = {
	__class__: src_parser_MqoFace
};
var src_parser_MqoLexer = function(text) {
	this.text = text;
	this.length = text.length;
	this.counter = 0;
	this.moveNext();
};
src_parser_MqoLexer.__name__ = true;
src_parser_MqoLexer.prototype = {
	getToken: function() {
		return this.token;
	}
	,moveNext: function() {
		while(this.length > this.counter) {
			var _g = this.text.charAt(this.counter);
			switch(_g) {
			case "\t":case "\n":case "\r":case " ":
				this.counter++;
				continue;
			case "\"":
				this.token = this.getString();
				return true;
			case "(":
				this.counter++;
				this.token = src_parser_MqoVal.LParen;
				return true;
			case ")":
				this.counter++;
				this.token = src_parser_MqoVal.RParen;
				return true;
			case "-":case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":
				this.token = this.getNumber();
				return true;
			case "{":
				this.counter++;
				this.token = src_parser_MqoVal.LBrace;
				return true;
			case "}":
				this.counter++;
				this.token = src_parser_MqoVal.RBrace;
				return true;
			default:
				this.token = this.getSymbol();
				return true;
			}
		}
		this.token = null;
		return false;
	}
	,getString: function() {
		if(this.text.charAt(this.counter) != "\"") {
			return null;
		}
		var s = "";
		var prevChar = "";
		this.counter++;
		while(this.length > this.counter) {
			if(this.text.charAt(this.counter) == "\"") {
				if(prevChar != "\\") {
					break;
				}
			}
			prevChar = this.text.charAt(this.counter);
			s += prevChar;
			this.counter++;
		}
		if(this.text.charAt(this.counter) != "\"") {
			return null;
		}
		this.counter++;
		return src_parser_MqoVal.StringVal(s);
	}
	,getNumber: function() {
		var number = this.text.charAt(this.counter);
		var isNegative = false;
		var isFloat = false;
		var reg = new EReg("[0-9]|\\.","");
		if(number == "-") {
			isNegative = true;
			number = "";
		} else if(!reg.match(number)) {
			return null;
		}
		this.counter++;
		while(this.length > this.counter) {
			if(!reg.match(this.text.charAt(this.counter))) {
				break;
			}
			if(this.text.charAt(this.counter) == ".") {
				isFloat = true;
			}
			number += this.text.charAt(this.counter);
			this.counter++;
		}
		if(isFloat) {
			var f = parseFloat(number);
			if(isNaN(f)) {
				return null;
			}
			if(isNegative) {
				f = -f;
			}
			return src_parser_MqoVal.FloatVal(f);
		} else {
			var i = Std.parseInt(number);
			if(i == null) {
				return null;
			}
			if(isNegative) {
				i = -i;
			}
			return src_parser_MqoVal.IntVal(i);
		}
	}
	,getSymbol: function() {
		var symbol = this.text.charAt(this.counter);
		this.counter++;
		_hx_loop1: while(this.length > this.counter) {
			var _g = this.text.charAt(this.counter);
			switch(_g) {
			case "\t":case "\n":case "\r":case " ":case "(":case ")":
				break _hx_loop1;
			default:
				symbol += this.text.charAt(this.counter);
				this.counter++;
			}
		}
		return src_parser_MqoVal.Symbol(symbol);
	}
	,__class__: src_parser_MqoLexer
};
var src_parser_MqoObject = function(vertices,faces) {
	this.vertices = vertices;
	this.faces = faces;
};
src_parser_MqoObject.__name__ = true;
src_parser_MqoObject.prototype = {
	__class__: src_parser_MqoObject
};
var src_parser_MqoParser = function(text,gd) {
	this.lexer = new src_parser_MqoLexer(text);
	this.gd = gd;
};
src_parser_MqoParser.__name__ = true;
src_parser_MqoParser.prototype = {
	getMqo: function() {
		var scene = new src_scene_Scene();
		var materials = [];
		var objects = [];
		if(!(this.eatSymbol("Metasequoia") && this.eatSymbol("Document") && this.eatSymbol("Format") && this.eatSymbol("Text") && this.eatSymbol("Ver") && this.eatFloat())) {
			throw new js__$Boot_HaxeError("invalid header");
		}
		while(true) {
			var _g = this.lexer.getToken();
			if(_g[1] == 0) {
				switch(_g[2]) {
				case "IncludeXml":
					this.eatSymbol();
					this.eatString();
					break;
				case "Material":
					this.eatSymbol("Material");
					var num = this.getInt();
					this.eatLBrace();
					var _g1 = 0;
					var _g2 = num;
					while(_g1 < _g2) {
						var i = _g1++;
						materials.push(this.getMaterial());
					}
					this.eatRBrace();
					break;
				case "Object":
					objects.push(this.getObject());
					break;
				case "Scene":
					scene = this.getScene();
					break;
				case "Thumbnail":
					this.skipChunk();
					break;
				default:
					this.lexer.moveNext();
				}
			} else {
				this.lexer.moveNext();
			}
			if(!(this.lexer.getToken() != null)) {
				break;
			}
		}
		return new src_parser_Mqo(scene,materials,objects);
	}
	,getObject: function() {
		var vertices = [];
		var faces = [];
		this.eatSymbol("Object");
		this.eatString();
		this.eatLBrace();
		_hx_loop1: while(this.lexer.getToken() != null) {
			var _g = this.lexer.getToken();
			switch(_g[1]) {
			case 0:
				switch(_g[2]) {
				case "BVertex":
					this.skipChunk();
					break;
				case "color":
					this.eatSymbol();
					this.eatFloat();
					this.eatFloat();
					this.eatFloat();
					break;
				case "color_type":
					this.eatSymbol();
					this.eatInt();
					break;
				case "depth":
					this.eatSymbol();
					this.eatInt();
					break;
				case "face":
					this.eatSymbol();
					var num = this.getInt();
					faces = this.getFaceChunk(num);
					break;
				case "facet":
					this.eatSymbol();
					this.eatFloat();
					break;
				case "folding":
					this.eatSymbol();
					this.eatInt();
					break;
				case "lathe":
					this.eatSymbol();
					this.eatInt();
					break;
				case "lathe_axis":
					this.eatSymbol();
					this.eatInt();
					break;
				case "lathe_seg":
					this.eatSymbol();
					this.eatInt();
					break;
				case "locking":
					this.eatSymbol();
					this.eatInt();
					break;
				case "mirror":
					this.eatSymbol();
					this.eatInt();
					break;
				case "mirror_axis":
					this.eatSymbol();
					this.eatInt();
					break;
				case "mirror_dis":
					this.eatSymbol();
					this.eatFloat();
					break;
				case "normal_weight":
					this.eatSymbol();
					this.eatFloat();
					break;
				case "patch":
					this.eatSymbol();
					this.eatInt();
					break;
				case "patchtri":
					this.eatSymbol();
					this.eatInt();
					break;
				case "rotation":
					this.eatSymbol();
					this.eatFloat();
					this.eatFloat();
					this.eatFloat();
					break;
				case "scale":
					this.eatSymbol();
					this.eatFloat();
					this.eatFloat();
					this.eatFloat();
					break;
				case "segment":
					this.eatSymbol();
					this.eatInt();
					break;
				case "shading":
					this.eatSymbol();
					this.eatInt();
					break;
				case "translation":
					this.eatSymbol();
					this.eatFloat();
					this.eatFloat();
					this.eatFloat();
					break;
				case "uid":
					this.eatSymbol();
					this.eatInt();
					break;
				case "vertex":
					this.eatSymbol();
					var num1 = this.getInt();
					vertices = this.getVertexChunk(num1);
					break;
				case "vertexattr":
					this.skipChunk();
					break;
				case "visible":
					this.eatSymbol();
					this.eatInt();
					break;
				default:
					throw new js__$Boot_HaxeError("unexpected symbol found :" + Std.string(this.lexer.getToken()) + " in Object chunk");
				}
				break;
			case 7:
				this.eatRBrace();
				break _hx_loop1;
			default:
				throw new js__$Boot_HaxeError("unexpected symbol found :" + Std.string(this.lexer.getToken()) + " in Object chunk");
			}
		}
		return new src_parser_MqoObject(vertices,faces);
	}
	,getVertexChunk: function(num) {
		this.eatLBrace();
		var vertices = [];
		var _g1 = 0;
		var _g = num;
		while(_g1 < _g) {
			var i = _g1++;
			var this1 = new src_math_Vec3Data(this.getFloat(),this.getFloat(),this.getFloat());
			vertices.push(this1);
		}
		this.eatRBrace();
		return vertices;
	}
	,getFaceChunk: function(num) {
		this.eatLBrace();
		var faces = [];
		var _g1 = 0;
		var _g = num;
		while(_g1 < _g) {
			var i = _g1++;
			faces.push(this.getFace());
		}
		this.eatRBrace();
		return faces;
	}
	,getFace: function() {
		if(this.getInt() != 3) {
			throw new js__$Boot_HaxeError("face vertex number must be 3");
		}
		var indices = null;
		var material = 0;
		var this1 = new src_math_Vec2Data(0,0);
		var this2 = new src_math_Vec2Data(0,0);
		var this3 = new src_math_Vec2Data(0,0);
		var uv = [this1,this2,this3];
		var col = null;
		var crs = null;
		_hx_loop1: while(this.lexer.getToken() != null) {
			var _g = this.lexer.getToken();
			if(_g[1] == 0) {
				switch(_g[2]) {
				case "COL":
					this.eatSymbol();
					this.eatLParen();
					col = [];
					var _g1 = 0;
					while(_g1 < 3) {
						var j = _g1++;
						var x = this.getInt();
						col.push(src_graphics_Color.Rgba(x & 255,x & 65280,x & 16711680,x & -16777216));
					}
					this.eatRParen();
					break;
				case "CRS":
					this.eatSymbol();
					this.eatLParen();
					crs = [];
					var _g2 = 0;
					while(_g2 < 3) {
						var j1 = _g2++;
						crs.push(this.getFloat());
					}
					this.eatRParen();
					break;
				case "M":
					this.eatSymbol();
					this.eatLParen();
					material = this.getInt();
					this.eatRParen();
					break;
				case "UV":
					this.eatSymbol();
					this.eatLParen();
					uv = [];
					var _g3 = 0;
					while(_g3 < 3) {
						var j2 = _g3++;
						var this4 = new src_math_Vec2Data(this.getFloat(),this.getFloat());
						uv.push(this4);
					}
					this.eatRParen();
					break;
				case "V":
					this.eatSymbol();
					this.eatLParen();
					indices = [];
					var _g4 = 0;
					while(_g4 < 3) {
						var j3 = _g4++;
						indices.push(this.getInt());
					}
					this.eatRParen();
					break;
				default:
					break _hx_loop1;
				}
			} else {
				break;
			}
		}
		return new src_parser_MqoFace(indices,material,uv,col,crs);
	}
	,getScene: function() {
		var this1 = new src_math_Vec3Data(0,0,0);
		var position = this1;
		var this2 = new src_math_Vec3Data(0,0,0);
		var lookat = this2;
		var this3 = new src_math_Vec3Data(0,0,0);
		var up = this3;
		this.eatSymbol("Scene");
		this.eatLBrace();
		_hx_loop1: while(this.lexer.getToken() != null) {
			var _g = this.lexer.getToken();
			switch(_g[1]) {
			case 0:
				switch(_g[2]) {
				case "dirlights":
					this.skipChunk();
					break;
				case "head":
					this.eatSymbol("head");
					var t = this.getFloat();
					var s = Math.sin(t);
					var c = Math.cos(t);
					var this4 = new src_math_Mat4Data([c,0,s,0,0,1,0,0,-s,0,c,0,0,0,0,1]);
					var head = this4;
					this.eatSymbol("pich");
					var t1 = this.getFloat();
					var s1 = Math.sin(t1);
					var c1 = Math.cos(t1);
					var this5 = new src_math_Mat4Data([1,0,0,0,0,c1,-s1,0,0,s1,c1,0,0,0,0,1]);
					var pich = this5;
					this.eatSymbol("bank");
					var t2 = this.getFloat();
					var s2 = Math.sin(t2);
					var c2 = Math.cos(t2);
					var this6 = new src_math_Mat4Data([c2,-s2,0,0,s2,c2,0,0,0,0,1,0,0,0,0,1]);
					var bank = this6;
					var this7 = new src_math_Vec3Data(0,1,0);
					up = this7;
					break;
				case "lookat":
					this.eatSymbol("lookat");
					lookat = this.getVec3();
					break;
				case "pos":
					this.eatSymbol("pos");
					position = this.getVec3();
					break;
				default:
					this.lexer.moveNext();
					continue;
				}
				break;
			case 6:
				this.skipBraces();
				break;
			case 7:
				this.eatRBrace();
				break _hx_loop1;
			default:
				this.lexer.moveNext();
				continue;
			}
		}
		var scene = new src_scene_Scene();
		var this8 = new src_math_Vec3Data(lookat.x - position.x,lookat.y - position.y,lookat.z - position.z);
		scene.setCamera(position,this8,up);
		return scene;
	}
	,getMaterial: function() {
		var shader = null;
		var color = src_graphics_Color.White;
		var dif = 0.0;
		var amb = 0.0;
		var spc = 0.0;
		var tex = null;
		this.lexer.moveNext();
		_hx_loop1: while(this.lexer.getToken() != null) {
			var _g = this.lexer.getToken();
			switch(_g[1]) {
			case 0:
				switch(_g[2]) {
				case "amb":
					this.eatSymbol();
					this.eatLParen();
					amb = this.getFloat();
					this.eatRParen();
					break;
				case "col":
					this.eatSymbol();
					this.eatLParen();
					color = src_graphics_Color.Rgba(this.getFloat(),this.getFloat(),this.getFloat(),this.getFloat());
					this.eatRParen();
					break;
				case "dif":
					this.eatSymbol();
					this.eatLParen();
					dif = this.getFloat();
					this.eatRParen();
					break;
				case "emi":
					this.eatSymbol();
					this.eatLParen();
					this.getFloat();
					this.eatRParen();
					break;
				case "power":
					this.eatSymbol();
					this.eatLParen();
					this.getFloat();
					this.eatRParen();
					break;
				case "shader":
					this.eatSymbol();
					this.eatLParen();
					var _g1 = this.getInt();
					switch(_g1) {
					case 0:case 1:case 2:case 3:case 4:
						shader = this.gd.shaderProgramCache.getProgram("classic","classic");
						break;
					default:
						throw new js__$Boot_HaxeError("Invalid shader number in material.");
					}
					this.eatRParen();
					break;
				case "spc":
					this.eatSymbol();
					this.eatLParen();
					spc = this.getFloat();
					this.eatRParen();
					break;
				case "tex":
					this.eatSymbol();
					this.eatLParen();
					tex = new src_graphics_Texture(this.getString());
					this.eatRParen();
					break;
				default:
					this.lexer.moveNext();
					console.log("MqoParser.hx:287:","Don't match " + Std.string(this.lexer.getToken()));
				}
				break;
			case 3:
				break _hx_loop1;
			case 7:
				break _hx_loop1;
			default:
				this.lexer.moveNext();
				console.log("MqoParser.hx:287:","Don't match " + Std.string(this.lexer.getToken()));
			}
		}
		return new src_graphics_Material(this.gd,shader,color,dif,amb,spc,tex);
	}
	,eatSymbol: function(s) {
		var _g = this.lexer.getToken();
		if(_g[1] == 0) {
			var x = _g[2];
			if(s == null || x == s) {
				this.lexer.moveNext();
				return true;
			} else {
				console.log("MqoParser.hx:300:","Missing eat Symbol(" + s + "). you have to eat " + Std.string(this.lexer.getToken()));
				return false;
			}
		} else {
			console.log("MqoParser.hx:300:","Missing eat Symbol(" + s + "). you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,getString: function() {
		var _g = this.lexer.getToken();
		if(_g[1] == 3) {
			var s = _g[2];
			this.lexer.moveNext();
			return s;
		} else {
			throw new js__$Boot_HaxeError("Float cannot found. You found " + Std.string(this.lexer.getToken()));
		}
	}
	,getFloat: function() {
		var _g = this.lexer.getToken();
		switch(_g[1]) {
		case 1:
			var f = _g[2];
			this.lexer.moveNext();
			return f;
		case 2:
			var f1 = _g[2];
			this.lexer.moveNext();
			return f1;
		default:
			throw new js__$Boot_HaxeError("Float cannot found. You found " + Std.string(this.lexer.getToken()));
		}
	}
	,getInt: function() {
		var _g = this.lexer.getToken();
		if(_g[1] == 1) {
			var i = _g[2];
			this.lexer.moveNext();
			return i;
		} else {
			throw new js__$Boot_HaxeError("Float cannot found. You found " + Std.string(this.lexer.getToken()));
		}
	}
	,getVec3: function() {
		var x;
		var _g = this.lexer.getToken();
		switch(_g[1]) {
		case 1:
			var i = _g[2];
			x = i;
			break;
		case 2:
			var f = _g[2];
			x = f;
			break;
		default:
			throw new js__$Boot_HaxeError("vec3 parameters must be numbers");
		}
		this.lexer.moveNext();
		var y;
		var _g1 = this.lexer.getToken();
		switch(_g1[1]) {
		case 1:
			var i1 = _g1[2];
			y = i1;
			break;
		case 2:
			var f1 = _g1[2];
			y = f1;
			break;
		default:
			throw new js__$Boot_HaxeError("vec3 parameters must be numbers");
		}
		this.lexer.moveNext();
		var z;
		var _g2 = this.lexer.getToken();
		switch(_g2[1]) {
		case 1:
			var i2 = _g2[2];
			z = i2;
			break;
		case 2:
			var f2 = _g2[2];
			z = f2;
			break;
		default:
			throw new js__$Boot_HaxeError("vec3 parameters must be numbers");
		}
		var this1 = new src_math_Vec3Data(x,y,z);
		return this1;
	}
	,eatString: function(s) {
		var _g = this.lexer.getToken();
		if(_g[1] == 3) {
			var x = _g[2];
			if(s == null || x == s) {
				this.lexer.moveNext();
				return true;
			} else {
				console.log("MqoParser.hx:362:","Missing eat String(" + s + "). you have to eat " + Std.string(this.lexer.getToken()));
				return false;
			}
		} else {
			console.log("MqoParser.hx:362:","Missing eat String(" + s + "). you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,eatInt: function(i) {
		var _g = this.lexer.getToken();
		if(_g[1] == 1) {
			var x = _g[2];
			if(i == null || x == i) {
				this.lexer.moveNext();
				return true;
			} else {
				console.log("MqoParser.hx:374:","Missing eat Int(" + i + "). you have to eat " + Std.string(this.lexer.getToken()));
				return false;
			}
		} else {
			console.log("MqoParser.hx:374:","Missing eat Int(" + i + "). you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,eatFloat: function(f) {
		var _g = this.lexer.getToken();
		switch(_g[1]) {
		case 1:
			var x = _g[2];
			if(f == null || x == f) {
				this.lexer.moveNext();
				return true;
			} else {
				console.log("MqoParser.hx:389:","Missing eat Float(" + f + "). you have to eat " + Std.string(this.lexer.getToken()));
				return false;
			}
			break;
		case 2:
			var x1 = _g[2];
			if(f == null || x1 == f) {
				this.lexer.moveNext();
				return true;
			} else {
				console.log("MqoParser.hx:389:","Missing eat Float(" + f + "). you have to eat " + Std.string(this.lexer.getToken()));
				return false;
			}
			break;
		default:
			console.log("MqoParser.hx:389:","Missing eat Float(" + f + "). you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,eatLBrace: function() {
		var _g = this.lexer.getToken();
		if(_g[1] == 6) {
			this.lexer.moveNext();
			return true;
		} else {
			console.log("MqoParser.hx:401:","Missing eat LBrace. you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,eatRBrace: function() {
		var _g = this.lexer.getToken();
		if(_g[1] == 7) {
			this.lexer.moveNext();
			return true;
		} else {
			console.log("MqoParser.hx:413:","Missing eat RBrace. you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,eatLParen: function() {
		var _g = this.lexer.getToken();
		if(_g[1] == 4) {
			this.lexer.moveNext();
			return true;
		} else {
			console.log("MqoParser.hx:425:","Missing eat LParen. you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,eatRParen: function() {
		var _g = this.lexer.getToken();
		if(_g[1] == 5) {
			this.lexer.moveNext();
			return true;
		} else {
			console.log("MqoParser.hx:437:","Missing eat LParen. you have to eat " + Std.string(this.lexer.getToken()));
			return false;
		}
	}
	,skipChunk: function() {
		this.lexer.moveNext();
		return this.skipBraces();
	}
	,skipBraces: function() {
		var counter = 0;
		var xs = [];
		while(true) {
			xs.push("token = " + Std.string(this.lexer.getToken()) + " count = " + counter);
			var _g = this.lexer.getToken();
			if(_g[1] == 6) {
				++counter;
			}
			var _g1 = this.lexer.getToken();
			if(_g1[1] == 7) {
				--counter;
				if(counter == 0) {
					break;
				}
			}
			if(!this.lexer.moveNext()) {
				break;
			}
		}
		return this.lexer.moveNext();
	}
	,__class__: src_parser_MqoParser
};
var src_parser_MqoVal = { __ename__ : true, __constructs__ : ["Symbol","IntVal","FloatVal","StringVal","LParen","RParen","LBrace","RBrace"] };
src_parser_MqoVal.Symbol = function(s) { var $x = ["Symbol",0,s]; $x.__enum__ = src_parser_MqoVal; $x.toString = $estr; return $x; };
src_parser_MqoVal.IntVal = function(i) { var $x = ["IntVal",1,i]; $x.__enum__ = src_parser_MqoVal; $x.toString = $estr; return $x; };
src_parser_MqoVal.FloatVal = function(f) { var $x = ["FloatVal",2,f]; $x.__enum__ = src_parser_MqoVal; $x.toString = $estr; return $x; };
src_parser_MqoVal.StringVal = function(s) { var $x = ["StringVal",3,s]; $x.__enum__ = src_parser_MqoVal; $x.toString = $estr; return $x; };
src_parser_MqoVal.LParen = ["LParen",4];
src_parser_MqoVal.LParen.toString = $estr;
src_parser_MqoVal.LParen.__enum__ = src_parser_MqoVal;
src_parser_MqoVal.RParen = ["RParen",5];
src_parser_MqoVal.RParen.toString = $estr;
src_parser_MqoVal.RParen.__enum__ = src_parser_MqoVal;
src_parser_MqoVal.LBrace = ["LBrace",6];
src_parser_MqoVal.LBrace.toString = $estr;
src_parser_MqoVal.LBrace.__enum__ = src_parser_MqoVal;
src_parser_MqoVal.RBrace = ["RBrace",7];
src_parser_MqoVal.RBrace.toString = $estr;
src_parser_MqoVal.RBrace.__enum__ = src_parser_MqoVal;
var src_scene_Scene = function() {
	this.camera = new src_camera_Camera();
};
src_scene_Scene.__name__ = true;
src_scene_Scene.prototype = {
	setCamera: function(position,forward,up) {
		if(position != null) {
			this.camera.position = position;
		}
		if(position != null) {
			this.camera.forward = forward;
		}
		if(position != null) {
			this.camera.up = up;
		}
	}
	,__class__: src_scene_Scene
};
function $iterator(o) { if( o instanceof Array ) return function() { return HxOverrides.iter(o); }; return typeof(o.iterator) == 'function' ? $bind(o,o.iterator) : o.iterator; }
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
String.prototype.__class__ = String;
String.__name__ = true;
Array.__name__ = true;
Date.prototype.__class__ = Date;
Date.__name__ = ["Date"];
var Int = { };
var Dynamic = { };
var Float = Number;
var Bool = Boolean;
var Class = { };
var Enum = { };
var __map_reserved = {};
var ArrayBuffer = $global.ArrayBuffer || js_html_compat_ArrayBuffer;
if(ArrayBuffer.prototype.slice == null) {
	ArrayBuffer.prototype.slice = js_html_compat_ArrayBuffer.sliceImpl;
}
var DataView = $global.DataView || js_html_compat_DataView;
var Float32Array = $global.Float32Array || js_html_compat_Float32Array._new;
var Uint8Array = $global.Uint8Array || js_html_compat_Uint8Array._new;
haxe_ds_ObjectMap.count = 0;
haxe_io_FPHelper.i64tmp = (function($this) {
	var $r;
	var this1 = new haxe__$Int64__$_$_$Int64(0,0);
	$r = this1;
	return $r;
}(this));
haxe_io_FPHelper.helper = new DataView(new ArrayBuffer(8));
js_Boot.__toStr = ({ }).toString;
js_html_compat_Float32Array.BYTES_PER_ELEMENT = 4;
js_html_compat_Uint8Array.BYTES_PER_ELEMENT = 1;
src_graphics_Texture.rc = WebGLRenderingContext;
src_graphics_vertices_VertexPosition.dummy = new src_graphics_vertices_VertexPosition(null);
src_graphics_vertices_VertexPositionNormalTexture.dummy = new src_graphics_vertices_VertexPositionNormalTexture(null,null,null);
src_graphics_vertices_VertexPositionTexture.dummy = new src_graphics_vertices_VertexPositionTexture(null,null);
src_Game.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
